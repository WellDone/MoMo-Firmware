Version 4
SHEET 1 1148 680
WIRE -48 48 -384 48
WIRE 32 48 16 48
WIRE -64 112 -256 112
WIRE -32 112 -64 112
WIRE 32 112 32 48
WIRE 128 112 32 112
WIRE 224 112 208 112
WIRE 384 112 224 112
WIRE 224 192 224 112
WIRE 224 192 96 192
WIRE -64 256 -64 112
WIRE 48 256 -64 256
WIRE 192 256 144 256
WIRE -384 288 -384 48
WIRE -256 288 -256 112
WIRE 32 288 32 112
WIRE 192 320 192 256
WIRE 192 320 112 320
WIRE 448 320 192 320
WIRE 112 368 112 320
WIRE 112 368 32 368
WIRE 384 368 384 112
WIRE 432 368 384 368
WIRE 656 368 528 368
WIRE 656 480 656 368
WIRE -384 592 -384 368
WIRE -256 592 -256 368
WIRE -256 592 -384 592
WIRE 176 592 -256 592
WIRE 192 592 192 400
WIRE 192 592 176 592
WIRE 656 592 656 560
WIRE 656 592 192 592
WIRE 176 624 176 592
FLAG 176 624 0
SYMBOL pmos 528 320 R90
SYMATTR InstName M1
SYMATTR Value irlml6402
SYMATTR Prefix X
SYMBOL schottky -32 128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 656 464 R0
SYMATTR InstName V1
SYMATTR Value 4.0
SYMBOL voltage -256 272 R0
SYMATTR InstName V3
SYMATTR Value PULSE(0 4.75 1 0.01 0.01 2)
SYMBOL res 224 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL pnp 144 192 R90
SYMATTR InstName Q1
SYMBOL res 208 416 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 48 384 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL voltage -384 272 R0
SYMATTR InstName V4
SYMATTR Value PULSE(0 3.8 0.5 0.01 0.01 2)
SYMBOL schottky -48 64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
TEXT 760 208 Left 2 !.tran 2
TEXT 448 264 Left 2 !.lib irlml6402.spi
